<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lavro.org</title>
    <!-- 添加 Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    
    <!-- 引入 JetBrains Mono -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- 配置 Solarized Dark 主题颜色 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        mono: ['"JetBrains Mono"', 'monospace'],
                    },
                    colors: {
                        // Solarized Dark Palette
                        base03: '#002b36', // Dark Background
                        base02: '#073642', // Lighter Background (Selection)
                        base01: '#586e75', // Comments
                        base00: '#657b83', 
                        base0: '#839496',  // Body Text
                        base1: '#93a1a1',  // Lighter Text
                        base2: '#eee8d5',
                        base3: '#fdf6e3',  // Lightest (Title)
                        yellow: '#b58900',
                        orange: '#cb4b16',
                        red: '#dc322f',
                        magenta: '#d33682',
                        violet: '#6c71c4',
                        blue: '#268bd2',
                        cyan: '#2aa198',
                        green: '#859900',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #002b36; /* base03: 深色背景 */
            color: #839496; /* base0: 主体文字 */
        }
        
        /* 光标动画 - 改为亮色 */
        .cursor::after {
            content: ' ';
            display: inline-block;
            width: 0.6em;
            height: 1.2em;
            background-color: #93a1a1; /* base1 */
            vertical-align: bottom;
            animation: blink 1s step-end infinite;
            margin-left: 2px;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        .typing-hidden {
            display: none;
        }

        /* 链接交互效果：深色高亮 */
        .code-line {
            transition: background-color 0.1s;
        }
        .code-line:hover {
            background-color: #073642; /* base02: 选中行背景 */
            cursor: pointer;
        }
        .code-line:hover .link-text {
            color: #268bd2; /* blue */
            text-decoration: underline;
        }
    </style>
</head>
<body class="font-mono min-h-screen flex items-center justify-center p-4 sm:p-8">

    <main class="w-full max-w-lg">
        
        <!-- 顶部标题 -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-base3">
                lavro.org<span class="text-base01 text-lg font-normal ml-2">// config</span>
            </h1>
        </div>

        <!-- 代码区域 -->
        <div class="text-base md:text-lg leading-relaxed" id="code-container">
            
            <!-- 行 1 -->
            <div>
                <span class="text-base01 select-none mr-4">1</span>
                <span class="text-green">const</span> <span class="text-blue">me</span> <span class="text-base0">=</span> <span class="text-base0">{</span>
            </div>

            <!-- 动态生成的链接区域 -->
            <div id="typewriter-area">
                <!-- 内容将通过 JS 逐行显示 -->
            </div>

            <!-- 闭合括号 -->
            <div class="typing-hidden" id="closing-bracket">
                <!-- 更新行号为 7，以适应新增的链接 -->
                <span class="text-base01 select-none mr-4">7</span>
                <span class="text-base0">};</span>
                <span class="cursor"></span>
            </div>

        </div>

        <!-- 极简底部 -->
        <footer class="mt-12 text-xs text-base01 opacity-0 transition-opacity duration-1000" id="footer">
            <p>-- INSERT MODE --</p>
        </footer>

    </main>

    <script>
        // 定义要显示的链接配置
        // 格式: [Key颜色, Key文本, Value颜色, Value文本, 链接URL]
        const links = [
            { key: 'blog',     val: '"./thoughts"',        url: 'https://your-blog.com' },
            { key: 'github',   val: '"./code"',            url: 'https://github.com/your-username' },
            { key: 'cforge',   val: '"./character-forge"', url: '/CForge/' }, // 新增的 CForge 链接
            { key: 'projects', val: '[...works]',          url: '#' },
            { key: 'email',    val: '"@contact"',          url: 'mailto:your-email@example.com' }
        ];

        const container = document.getElementById('typewriter-area');
        const footer = document.getElementById('footer');
        const closing = document.getElementById('closing-bracket');
        
        let lineIndex = 0;
        const startLineNum = 2; // 起始行号

        function typeLine() {
            if (lineIndex < links.length) {
                const item = links[lineIndex];
                const lineNum = startLineNum + lineIndex;
                
                // 创建行元素
                const div = document.createElement('div');
                div.className = 'code-line pl-0 flex items-center group';
                div.onclick = () => window.open(item.url, item.url.startsWith('mailto') ? '_self' : '_blank');
                
                // 构建 HTML
                div.innerHTML = `
                    <span class="text-base01 select-none mr-4 opacity-50 group-hover:opacity-100 w-6 text-right inline-block">${lineNum}</span>
                    <div class="pl-4">
                        <span class="text-base0">${item.key}:</span> 
                        <span class="link-text text-cyan group-hover:text-blue transition-colors ml-2">${item.val}</span><span class="text-base0">,</span>
                    </div>
                `;
                
                container.appendChild(div);
                
                lineIndex++;
                setTimeout(typeLine, 100); 
            } else {
                closing.classList.remove('typing-hidden');
                footer.classList.remove('opacity-0');
            }
        }

        setTimeout(typeLine, 500);

    </script>
</body>
</html>
